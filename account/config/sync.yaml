# ============================================
# ğŸ”„ XControl Account Sync Configuration
# ============================================
# å°†æœ¬åœ°ä¸è¿œç«¯è´¦å·æœåŠ¡é€šè¿‡ SSH å®‰å…¨åŒæ­¥ã€‚é»˜è®¤æä¾›å•å‘ push/pull/mirror
# ä¸‰ç§æ¨¡å¼ï¼Œå¯ç›´æ¥é€šè¿‡ `go run ./cmd/syncctl/main.go push --config config/sync.yaml`
# ç­‰å‘½ä»¤æ‰§è¡Œã€‚
#
# è¯·å¤åˆ¶æœ¬æ–‡ä»¶ä¸º config/sync.yaml å¹¶æŒ‰éœ€ä¿®æ”¹ã€‚
# ============================================

local:
  # æœ¬åœ° PostgreSQL è¿æ¥åœ°å€ï¼Œç”¨äºå¯¼å…¥/å¯¼å‡ºè´¦å·æ•°æ®
  dsn: "postgres://shenlan:password@127.0.0.1:5432/account?sslmode=disable"
  # å¯é€‰ï¼šæŒ‰ email å…³é”®å­—è¿‡æ»¤å¯¼å‡ºçš„è´¦å·
  email_keyword: ""
  # å¯¼å‡ºçš„å¿«ç…§æ–‡ä»¶è·¯å¾„ï¼ˆé»˜è®¤ account-export.yamlï¼‰
  export_path: "account-export.yaml"
  # å¯¼å…¥è¡Œä¸ºé…ç½®ï¼Œæ”¯æŒ merge / dry-run / allowlist ç­‰å‚æ•°
  import:
    merge: false
    merge_strategy: ""
    dry_run: false
    allowlist: []

remote:
  # è¿œç«¯æœåŠ¡å™¨åœ°å€ä¸ SSH è´¦æˆ·
  address: "cn-console.svc.plus"
  port: 22
  user: "root"

  # SSH ç§é’¥ä¸ known_hosts ç”¨äºå¼ºåŒ–å®‰å…¨ï¼ˆæ¨èä½¿ç”¨ä¸“ç”¨éƒ¨ç½²å¯†é’¥ï¼‰
  identity_file: "/root/.ssh/id_rsa"
  known_hosts_file: "/root/.ssh/known_hosts"

  # è¿œç«¯è´¦å·æœåŠ¡æ‰€åœ¨ç›®å½•ï¼Œç”¨äºæ‰§è¡Œ make account-export/import
  account_dir: "/var/www/XControl/account"

  # è¿œç«¯å¿«ç…§æ–‡ä»¶è·¯å¾„ï¼ˆé»˜è®¤ account-export.yamlï¼Œå¯ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼‰
  export_path: "account-export.yaml"
  import_path: "account-export.yaml"

  # å¯é€‰ï¼šè¦†ç›–è¿œç«¯çš„ ACCOUNT_EMAIL_KEYWORD ç¯å¢ƒå˜é‡
  email_keyword: ""

  # å¯é€‰ï¼šé¢å¤–æ³¨å…¥çš„ç¯å¢ƒå˜é‡ï¼Œä¾‹å¦‚è¦†ç›–æ•°æ®åº“è¿æ¥ä¿¡æ¯
  env: {}

  # SSH è¿æ¥è¶…æ—¶æ—¶é—´
  timeout: 30s

